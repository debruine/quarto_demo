[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Table printing demo",
    "section": "",
    "text": "This website contains my explorations of Quarto.\n\nReplicating df_print"
  },
  {
    "objectID": "table.html#code",
    "href": "table.html#code",
    "title": "Table printing demo",
    "section": "Code",
    "text": "Code\nThese functions should override knitr::knit_print() for data frames, but wasnâ€™t working at all until I learned in the knit_print vignette that you have to use registerS3method().\n\ndf_print: paged\n\nlibrary(knitr)\n# print everything as paged ----\nknit_print.data.frame <- function (x, options, ...) {\n  rmarkdown::paged_table(x, options) |>\n    rmarkdown:::print.paged_df()\n}\nregisterS3method(\"knit_print\", \"data.frame\", knit_print.data.frame)\n\n\ndata.frame(x = rnorm(5), y = LETTERS[1:5])\n\n\n  \n\n\n\n\n\ndf_print: kable\n\nlibrary(knitr)\n# print everything as kable ----\nknit_print.data.frame <- function (x, options, ...) {\n  knitr::kable(x) |> knitr::knit_print(options, ...)\n}\nregisterS3method(\"knit_print\", \"data.frame\", knit_print.data.frame)\n\n\ndata.frame(x = rnorm(5), y = LETTERS[1:5])\n\n\n\n\nx\ny\n\n\n\n\n0.5327819\nA\n\n\n0.7271846\nB\n\n\n1.7445644\nC\n\n\n-1.6687113\nD\n\n\n0.5029788\nE\n\n\n\n\n\n\n\ndf_print: custom\nPrints tables with 10 or fewer rows using kableExtra::kable() and longer tables with DT::datatable() (unless overridden by options). Includes chunk options for:\n\ndigits (defaults to getOption(\"digits\"))\nrownames (defaults to FALSE)\npageLength (defaults to 10)\nescape (defaults to TRUE)\ncaption\n\n\nlibrary(knitr)\n\n# useful function for options\n`%||%` <- function(l, r) {\n  if (is.null(l)) r else l\n}\n\n# super-customised table printing ----\nknit_print.data.frame <- function (x, options, ...) {\n  # get options\n  digits <- options$digits %||% getOption(\"digits\")\n  rownames <- options$rownames %||% FALSE\n  pageLength <- options$pageLength %||% 10 \n  escape <- options$escape %||% TRUE\n  caption <- options$caption\n  \n  # use DT for longer tables in html\n  if (nrow(x) > pageLength & knitr::is_html_output()) {\n    numeric_cols <- sapply(x, is.numeric) |> which() |> names()\n    dt <- DT::datatable(x, \n                        rownames = rownames,\n                        caption = caption,\n                        escape = escape,\n                        width = \"100%\",\n                        height = \"auto\",\n                        options = list(pageLength = pageLength),\n                        selection = \"none\")\n    if (length(numeric_cols) > 0) {\n      dt <- DT::formatRound(dt, \n                            columns = numeric_cols,\n                            digits = digits)\n    }\n    knitr::knit_print(dt, options)\n  } else {\n    # use kableExtra::kable for PDFs or shorter tables\n    k <- kableExtra::kable(x, \n                      digits = digits, \n                      row.names = rownames, \n                      caption = caption,\n                      escape = escape) |>\n      kableExtra::kable_styling(\n        full_width = options$full_width,\n        bootstrap_options = c(\"striped\", \"hover\")\n      )\n    \n    if (knitr::is_html_output()) {\n        k <- c(\"<div class=\\\"kable-table\\\">\", k, \"</div>\") |>\n          paste(collapse = \"\\n\")\n    }\n    \n    knitr::asis_output(k)\n  }\n}\nregisterS3method(\"knit_print\", \"data.frame\", knit_print.data.frame)"
  },
  {
    "objectID": "table.html#test-custom-df_print",
    "href": "table.html#test-custom-df_print",
    "title": "Table printing demo",
    "section": "Test custom df_print",
    "text": "Test custom df_print\nMake data.frame and tbl_df object with 5 and 26 rows.\n\ndf5 <- data.frame(x = rnorm(5), y = LETTERS[1:5])\ndf26 <- data.frame(x = rnorm(26), y = LETTERS)\ntbl5 <- tibble::tibble(x = rnorm(5), y = LETTERS[1:5])\ntbl26 <- tibble::tibble(x = rnorm(26), y = LETTERS)\n\n\nData frame - 5 rowsData frame - 26 rowsTibble - 5 rowsTibble - 26 rows\n\n\nShould be displayed with kableExtra::kable().\n\ndf5\n\n\n\n \n  \n    x \n    y \n  \n \n\n  \n    -2.1672637 \n    A \n  \n  \n    -0.7401630 \n    B \n  \n  \n    -1.3959294 \n    C \n  \n  \n    -0.2025407 \n    D \n  \n  \n    -2.0377273 \n    E \n  \n\n\n\n\n\n\n\nShould be displayed with DT::datatable().\n\ndf26\n\n\n\n\n\n\n\nShould be displayed with kableExtra::kable()\n\ntbl5\n\n\n\n \n  \n    x \n    y \n  \n \n\n  \n    -1.1221394 \n    A \n  \n  \n    1.6513614 \n    B \n  \n  \n    -1.9842078 \n    C \n  \n  \n    0.4589673 \n    D \n  \n  \n    -0.7172125 \n    E \n  \n\n\n\n\n\n\n\nShould be displayed with DT::datatable()\n\ntbl26"
  },
  {
    "objectID": "table.html#option-tests",
    "href": "table.html#option-tests",
    "title": "Table printing demo",
    "section": "Option Tests",
    "text": "Option Tests\nTesting options in the r chunk header.\n\ndigitsrownamesfig.cappageLengthescapefull_width\n\n\nSet the number of digits to display in numeric columns. Defaults to getOption(\"digits\").\n\n# digits = 3\ntbl5\n\n\n\n \n  \n    x \n    y \n  \n \n\n  \n    -1.122 \n    A \n  \n  \n    1.651 \n    B \n  \n  \n    -1.984 \n    C \n  \n  \n    0.459 \n    D \n  \n  \n    -0.717 \n    E \n  \n\n\n\n\n\n\n# digits = 4\ntbl26\n\n\n\n\n\n\n\nrownames are FALSE by default\n\n# rownames = TRUE\ntbl5\n\n\n\n \n  \n      \n    x \n    y \n  \n \n\n  \n    1 \n    -1.1221394 \n    A \n  \n  \n    2 \n    1.6513614 \n    B \n  \n  \n    3 \n    -1.9842078 \n    C \n  \n  \n    4 \n    0.4589673 \n    D \n  \n  \n    5 \n    -0.7172125 \n    E \n  \n\n\n\n\n\n\n# rownames = TRUE\ntbl26\n\n\n\n\n\n\n\nFigure captions are displaying twice (the caption from DT or kable is in purple).\n\n# fig.cap=\"This is my figure caption for a tibble with 5 rows\"\ntbl5\n\n\n\n\n\n\nx\n\n\ny\n\n\n\n\n\n\n-1.1221394\n\n\nA\n\n\n\n\n1.6513614\n\n\nB\n\n\n\n\n-1.9842078\n\n\nC\n\n\n\n\n0.4589673\n\n\nD\n\n\n\n\n-0.7172125\n\n\nE\n\n\n\n\n\nThis is my figure caption for a tibble with 5 rows\n\n\n\n# fig.cap=\"This is my figure caption for a tibble with 26 rows\"\ntbl26\n\n\n\nThis is my figure caption for a tibble with 26 rows\n\n\n\n\nSet the page length for DT, if the table is <= to that, will display as kable.\n\n# pageLength = 3, so should be a DT\ntbl5\n\n\n\n\n\n\n# pageLength = 30, so should be a kable\ntbl26\n\n\n\n \n  \n    x \n    y \n  \n \n\n  \n    -1.1895054 \n    A \n  \n  \n    -0.0026200 \n    B \n  \n  \n    0.0896732 \n    C \n  \n  \n    -0.4148679 \n    D \n  \n  \n    0.4944668 \n    E \n  \n  \n    1.6795801 \n    F \n  \n  \n    -0.3436307 \n    G \n  \n  \n    -0.3020943 \n    H \n  \n  \n    -0.6148100 \n    I \n  \n  \n    -0.0190088 \n    J \n  \n  \n    0.8395724 \n    K \n  \n  \n    -0.1514868 \n    L \n  \n  \n    -0.9752751 \n    M \n  \n  \n    0.7336723 \n    N \n  \n  \n    0.4388322 \n    O \n  \n  \n    -1.1097205 \n    P \n  \n  \n    -0.8848626 \n    Q \n  \n  \n    0.6310652 \n    R \n  \n  \n    0.6567208 \n    S \n  \n  \n    -0.3650247 \n    T \n  \n  \n    -1.1699869 \n    U \n  \n  \n    -0.5926633 \n    V \n  \n  \n    2.1843112 \n    W \n  \n  \n    0.7213212 \n    X \n  \n  \n    -0.8765642 \n    Y \n  \n  \n    2.3344422 \n    Z \n  \n\n\n\n\n\n\n\nescape is TRUE by default. Set to FALSE to use html or latex in tables.\n\n# escape = FALSE\ntibble::tibble(styles = c(\"<i>italics</i>\", \"<b>bold</b>\"))\n\n\n\n \n  \n    styles \n  \n \n\n  \n    italics \n  \n  \n    bold \n  \n\n\n\n\n\n\n# escape = FALSE\ntibble::tibble(styles = rep(c(\"<i>italics</i>\", \"<b>bold</b>\"), 10))\n\n\n\n\n\n\n\nFor kable only, defaults to TRUE for html and FALSE for pdf.\n\n# full_width = TRUE\ntbl5\n\n\n\n \n  \n    x \n    y \n  \n \n\n  \n    -1.1221394 \n    A \n  \n  \n    1.6513614 \n    B \n  \n  \n    -1.9842078 \n    C \n  \n  \n    0.4589673 \n    D \n  \n  \n    -0.7172125 \n    E \n  \n\n\n\n\n\n\n# full_width = FALSE\ntbl5\n\n\n\n \n  \n    x \n    y \n  \n \n\n  \n    -1.1221394 \n    A \n  \n  \n    1.6513614 \n    B \n  \n  \n    -1.9842078 \n    C \n  \n  \n    0.4589673 \n    D \n  \n  \n    -0.7172125 \n    E"
  }
]